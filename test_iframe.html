<head>
    <script type="text/javascript">

    function alertCookie() {
	alert(document.cookie);
    }

function eraseCookieFromAllPaths(name) {
    // This function will attempt to remove a cookie from all paths.
    var pathBits = location.pathname.split('/');
    var pathCurrent = ' path=';

    // do a simple pathless delete first.
    document.cookie = name + '=; expires=Thu, 01-Jan-1970 00:00:01 GMT;';

    for (var i = 0; i < pathBits.length; i++) {
        pathCurrent += ((pathCurrent.substr(-1) != '/') ? '/' : '') + pathBits[i];
        document.cookie = name + '=; expires=Thu, 01-Jan-1970 00:00:01 GMT;' + pathCurrent + ';';
    }
}
    function getCookie(cname) {
	var name = cname + "=";
	var decodedCookie = decodeURIComponent(document.cookie);
	var ca = decodedCookie.split(';');
	for(var i = 0; i <ca.length; i++) {
	    var c = ca[i];
	    while (c.charAt(0) == ' ') {
    		c = c.substring(1);
	    }
	    if (c.indexOf(name) == 0) {
    		return c.substring(name.length, c.length);
	    }
	}
	return "";
    }

    var MYCOOKIE='iframe_cookie_xxx_'

    function addCookie(num) {
	var date = new Date();
        date.setTime(date.getTime() + (7*24*60*60*1000));
        expires = 'expires=' + date.toUTCString();
        document.cookie = MYCOOKIE + num + ' = ' + num + '; ' + expires + '; Secure; SameSite=None;';
    }

    function delCookie(num) {
	document.cookie = MYCOOKIE + num + '=; Max-Age=0'
    }

    function showCookie(num) {
	var value = getCookie(MYCOOKIE + num);
	if (value != null && value != '') {
	    alert(MYCOOKIE + num + " = " + value);
	} else {
	    alert('can\'t find ' + MYCOOKIE + num);
	}	
    }

    </script>
</head>
<body>
    <div>iframe with cookies</div>
    <br>
    <button onclick="alertCookie()">Show all cookies</button><br>
    <button onclick="eraseCookieFromAllPaths('')">Delete all cookies</button><br>
    <br>
    <button onclick="addCookie(1)">Add iframe cookie-1</button><br>
    <button onclick="delCookie(1)">Delete iframe cookie-1</button><br>
    <button onclick="showCookie(1)">Show iframe cookie-1</button><br>
    <br>
    <button onclick="addCookie(2)">Add iframe cookie-3</button><br>
    <button onclick="delCookie(2)">Delete iframe cookie-3</button><br>
    <button onclick="showCookie(2)">Show iframe cookie-3</button><br>
    <br>
    <button onclick="addCookie(3)">Add iframe cookie-3</button><br>
    <button onclick="delCookie(3)">Delete iframe cookie-3</button><br>
    <button onclick="showCookie(3)">Show iframe cookie-3</button><br>
</body>
